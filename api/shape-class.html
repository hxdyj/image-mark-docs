<!DOCTYPE html>
<html lang="zh-Hans" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shape 类 | ImageMark</title>
    <meta name="description" content="一个框架无关的JS图片标注库，支持多种标注方式，包括矩形、圆、多边形、直线、图片、Path等">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.C_yzGy_H.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.0b28c900.js"></script>
    <script type="module" src="/assets/app.DSLwNQwD.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.hwNIkh8k.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CbQjVMS6.js">
    <link rel="modulepreload" href="/assets/api_shape-class.md.BU4bE3o5.lean.js">
    <link rel="icon" href="/logo.svg">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4ZR7Q442GZ"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4ZR7Q442GZ");</script>
    <script id="check-dark-mode">document.documentElement.classList.add("dark");</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-97678d31><!--[--><!--]--><!--[--><span tabindex="-1" data-v-a567f8af></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-a567f8af>Skip to content</a><!--]--><!----><header class="VPNav" data-v-97678d31 data-v-10dab620><div class="VPNavBar" data-v-10dab620 data-v-c28dd82e><div class="wrapper" data-v-c28dd82e><div class="container" data-v-c28dd82e><div class="title" data-v-c28dd82e><div class="VPNavBarTitle has-sidebar" data-v-c28dd82e data-v-2bb7cddf><a class="title" href="/" data-v-2bb7cddf><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-216d28e6><!--]--><span data-v-2bb7cddf>ImageMark</span><!--[--><!--]--></a></div></div><div class="content" data-v-c28dd82e><div class="content-body" data-v-c28dd82e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c28dd82e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c28dd82e data-v-4d4ce3c9><span id="main-nav-aria-label" class="visually-hidden" data-v-4d4ce3c9> Main Navigation </span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://image-mark.demo.wingblog.top" target="_blank" rel="noreferrer" tabindex="0" data-v-4d4ce3c9 data-v-c5a96f85><!--[--><span data-v-c5a96f85>Demo</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/start/start" tabindex="0" data-v-4d4ce3c9 data-v-c5a96f85><!--[--><span data-v-c5a96f85>开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/api/constructor-options" tabindex="0" data-v-4d4ce3c9 data-v-c5a96f85><!--[--><span data-v-c5a96f85>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sponsor" tabindex="0" data-v-4d4ce3c9 data-v-c5a96f85><!--[--><span data-v-c5a96f85>赞助</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4d4ce3c9 data-v-f6a4475b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f6a4475b><span class="text" data-v-f6a4475b><!----><span data-v-f6a4475b>1.5.0</span><span class="vpi-chevron-down text-icon" data-v-f6a4475b></span></span></button><div class="menu" data-v-f6a4475b><div class="VPMenu" data-v-f6a4475b data-v-68b78407><div class="items" data-v-68b78407><!--[--><!--[--><div class="VPMenuLink" data-v-68b78407 data-v-38127bd4><a class="VPLink link vp-external-link-icon" href="https://github.com/hxdyj/image-mark/releases" target="_blank" rel="noreferrer" data-v-38127bd4><!--[--><span data-v-38127bd4>更新日志</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-c28dd82e data-v-4750a667 data-v-f6a4475b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="多语言" data-v-f6a4475b><span class="text" data-v-f6a4475b><span class="vpi-languages option-icon" data-v-f6a4475b></span><!----><span class="vpi-chevron-down text-icon" data-v-f6a4475b></span></span></button><div class="menu" data-v-f6a4475b><div class="VPMenu" data-v-f6a4475b data-v-68b78407><!----><!--[--><!--[--><div class="items" data-v-4750a667><p class="title" data-v-4750a667>中文</p><!--[--><div class="VPMenuLink" data-v-4750a667 data-v-38127bd4><a class="VPLink link" href="/en/api/shape-class" data-v-38127bd4><!--[--><span data-v-38127bd4>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><!----><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-c28dd82e data-v-505bace4 data-v-0419fdd0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hxdyj/image-mark" aria-label="github" target="_blank" rel="noopener" data-v-0419fdd0 data-v-725b204c><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c28dd82e data-v-4f377836 data-v-f6a4475b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-f6a4475b><span class="vpi-more-horizontal icon" data-v-f6a4475b></span></button><div class="menu" data-v-f6a4475b><div class="VPMenu" data-v-f6a4475b data-v-68b78407><!----><!--[--><!--[--><div class="group translations" data-v-4f377836><p class="trans-title" data-v-4f377836>中文</p><!--[--><div class="VPMenuLink" data-v-4f377836 data-v-38127bd4><a class="VPLink link" href="/en/api/shape-class" data-v-38127bd4><!--[--><span data-v-38127bd4>English</span><!--]--></a></div><!--]--></div><!----><div class="group" data-v-4f377836><div class="item social-links" data-v-4f377836><div class="VPSocialLinks social-links-list" data-v-4f377836 data-v-0419fdd0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hxdyj/image-mark" aria-label="github" target="_blank" rel="noopener" data-v-0419fdd0 data-v-725b204c><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c28dd82e data-v-5ce014a7><span class="container" data-v-5ce014a7><span class="top" data-v-5ce014a7></span><span class="middle" data-v-5ce014a7></span><span class="bottom" data-v-5ce014a7></span></span></button></div></div></div></div><div class="divider" data-v-c28dd82e><div class="divider-line" data-v-c28dd82e></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-97678d31 data-v-e37ff987><div class="container" data-v-e37ff987><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e37ff987><span class="vpi-align-left menu-icon" data-v-e37ff987></span><span class="menu-text" data-v-e37ff987>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e37ff987 data-v-c56aa576><button data-v-c56aa576>回到顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-97678d31 data-v-8374822d><div class="curtain" data-v-8374822d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-8374822d><span class="visually-hidden" id="sidebar-aria-label" data-v-8374822d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-ee63df65><section class="VPSidebarItem level-0" data-v-ee63df65 data-v-14e7903b><div class="item" role="button" tabindex="0" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><h2 class="text" data-v-14e7903b>ImageMark类</h2><!----></div><div class="items" data-v-14e7903b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/constructor-options" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>构造函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/constructor-props" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>属性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/constructor-methods" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/constructor-on" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>事件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-ee63df65><section class="VPSidebarItem level-0 is-link" data-v-ee63df65 data-v-14e7903b><div class="item" tabindex="0" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/plugin-class" data-v-14e7903b><!--[--><h2 class="text" data-v-14e7903b>Plugin类</h2><!--]--></a><!----></div><div class="items" data-v-14e7903b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/plugin/shape" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Shape</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/plugin/selection" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Selection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/plugin/history" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>History</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/plugin/shortcut" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Shortcut</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/plugin/minimap" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Minimap</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-ee63df65><section class="VPSidebarItem level-0 is-link" data-v-ee63df65 data-v-14e7903b><div class="item" tabindex="0" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape-class" data-v-14e7903b><!--[--><h2 class="text" data-v-14e7903b>Shape类</h2><!--]--></a><!----></div><div class="items" data-v-14e7903b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/line" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Line</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/rect" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Rect</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/image" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Image</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/dot" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Dot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/circle" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Circle</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/polygon" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Polygon</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/poly-line" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>PolyLine</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/shape/path-line" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>PathLine</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-ee63df65><section class="VPSidebarItem level-0 is-link" data-v-ee63df65 data-v-14e7903b><div class="item" tabindex="0" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/action-class" data-v-14e7903b><!--[--><h2 class="text" data-v-14e7903b>Action类</h2><!--]--></a><!----></div><div class="items" data-v-14e7903b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/action/lmb-move" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>LmbMove</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-14e7903b data-v-14e7903b><div class="item" data-v-14e7903b><div class="indicator" data-v-14e7903b></div><a class="VPLink link link" href="/api/action/selection" data-v-14e7903b><!--[--><p class="text" data-v-14e7903b>Selection</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-97678d31 data-v-8e11788a><div class="VPDoc has-sidebar has-aside" data-v-8e11788a data-v-8cb865ee><!--[--><!--]--><div class="container" data-v-8cb865ee><div class="aside" data-v-8cb865ee><div class="aside-curtain" data-v-8cb865ee></div><div class="aside-container" data-v-8cb865ee><div class="aside-content" data-v-8cb865ee><div class="VPDocAside" data-v-8cb865ee data-v-aac1798c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-aac1798c data-v-23d0c311><div class="content" data-v-23d0c311><div class="outline-marker" data-v-23d0c311></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-23d0c311>大纲</div><ul class="VPDocOutlineItem root" data-v-23d0c311 data-v-d529598a><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-aac1798c></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-8cb865ee><div class="content-container" data-v-8cb865ee><!--[--><!--]--><main class="main" data-v-8cb865ee><div style="position:relative;" class="vp-doc _api_shape-class" data-v-8cb865ee><div><h1 id="shape-类" tabindex="-1">Shape 类 <a class="header-anchor" href="#shape-类" aria-label="Permalink to &quot;Shape 类&quot;">​</a></h1><p>Shape 类是所有形状的基类，它提供了一些基本的属性和方法。可以继承此类来实现自己的形状。</p><h2 id="类名" tabindex="-1">类名 <a class="header-anchor" href="#类名" aria-label="Permalink to &quot;类名&quot;">​</a></h2><p><code>ImageMarkShape</code></p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>类名不是 Shape，而是 ImageMarkShape，这是因为 Shape 在 <code>Svg.js</code> 里有同名的类</p></div><h2 id="types" tabindex="-1">Types <a class="header-anchor" href="#types" aria-label="Permalink to &quot;Types&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //注意所有的shape都需要有uuid，用于唯一标识, 不传入会自动生成</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	shapeName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	[x: string]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeAttr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">			stroke</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StrokeData</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 默认值 { width:10, color:&#39;#FF7D00&#39;}</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">			fill</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">			auxiliary</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				// 辅助线的配置，比如polygon的辅助线</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">				stroke</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StrokeData</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 默认值 { dasharray: &#39;20,20&#39;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">			label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				//标签相关配置</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">				font</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">					fill</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">					size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 默认值 14</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				}</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">				fill</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">			dot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">				r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //点的半径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">			image</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">				opacity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //图片透明度 默认值 1</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">				preserveAspectRatio</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;xMidYMid&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;none&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //图片是否保持比例 默认值 xMidYMid</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	setAttr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">shapeInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageMarkShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeAttr</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //自定义 shape 的属性</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	afterRender</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">shapeInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageMarkShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 绘制完成后添加画布后调用，也就是 dom 已经渲染完成</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	initDrawFunc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeDrawFunc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 自定义初始绘制函数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	enableEdit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">shapeInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageMarkShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Boolean</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 是否允许编辑，返回 false 则不允许进入编辑模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	enableEditAddMidPoint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">shapeInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageMarkShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Boolean</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 是否启用编辑时添加中位点，只有折线和多边形才需要添加中位点。如果为 null 或 undefined 则允许</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	enableEditDropPoint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">shapeInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageMarkShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Boolean</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 是否启用编辑时双击删除顶点，只有折线和多边形才支持删除顶点。如果为 null 或 undefined 则允许</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//鼠标绘制类型，oneTouch:一笔绘制，multiPress:多次点击绘制</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeMouseDrawType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;oneTouch&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;multiPress&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//绘制类型，point:所有划过的点绘制，centerR:起点为中心点，起止点距离为半径r绘制，centerRxy:起点为中心点，起止点x1，x2差值为Rx,y1,y2差值为Ry绘制</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeDrawType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;point&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;centerR&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;centerRxy&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShapeDrawFunc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">shape</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageMarkShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span></span></code></pre></div><h2 id="构造函数" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数" aria-label="Permalink to &quot;构造函数&quot;">​</a></h2><h3 id="constructor" tabindex="-1">constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to &quot;constructor&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	public data: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//形状的数据，可以是任意类型，具体的类型由子类实现</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	imageMarkInstance: ImageMark, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//形状所属的 ImageMark 实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	public options: ShapeOptions </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//形状的选项，具体的选项由子类实现</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): ImageMarkShape</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> extends ShapeData </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ShapeData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><h2 id="静态属性" tabindex="-1">静态属性 <a class="header-anchor" href="#静态属性" aria-label="Permalink to &quot;静态属性&quot;">​</a></h2><h3 id="shapename" tabindex="-1">shapeName <a class="header-anchor" href="#shapename" aria-label="Permalink to &quot;shapeName&quot;">​</a></h3><p>shape 的名称</p><h3 id="actionlist" tabindex="-1">actionList <a class="header-anchor" href="#actionlist" aria-label="Permalink to &quot;actionList&quot;">​</a></h3><p>shape 的动作列表</p><h2 id="静态方法" tabindex="-1">静态方法 <a class="header-anchor" href="#静态方法" aria-label="Permalink to &quot;静态方法&quot;">​</a></h2><h3 id="useaction" tabindex="-1">useAction <a class="header-anchor" href="#useaction" aria-label="Permalink to &quot;useAction&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用指定的动作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Action, actionOptions: any </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="unuseaction" tabindex="-1">unuseAction <a class="header-anchor" href="#unuseaction" aria-label="Permalink to &quot;unuseAction&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//取消使用指定的动作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unuseAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Action): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="hasaction" tabindex="-1">hasAction <a class="header-anchor" href="#hasaction" aria-label="Permalink to &quot;hasAction&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//判断是否有指定的动作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Action): boolean</span></span></code></pre></div><h3 id="usedefaultaction" tabindex="-1">useDefaultAction <a class="header-anchor" href="#usedefaultaction" aria-label="Permalink to &quot;useDefaultAction&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用默认的动作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useDefaultAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="unusedefaultaction" tabindex="-1">unuseDefaultAction <a class="header-anchor" href="#unusedefaultaction" aria-label="Permalink to &quot;unuseDefaultAction&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//取消使用默认的动作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unuseDefaultAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h2 id="抽象方法" tabindex="-1">抽象方法 <a class="header-anchor" href="#抽象方法" aria-label="Permalink to &quot;抽象方法&quot;">​</a></h2><h3 id="draw" tabindex="-1">draw <a class="header-anchor" href="#draw" aria-label="Permalink to &quot;draw&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//刻画形状</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">draw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="translate" tabindex="-1">translate <a class="header-anchor" href="#translate" aria-label="Permalink to &quot;translate&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 移动图形</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x: number, y: number): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="drawedit" tabindex="-1">drawEdit <a class="header-anchor" href="#drawedit" aria-label="Permalink to &quot;drawEdit&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//绘制编辑组</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drawEdit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="fixdata" tabindex="-1">fixData <a class="header-anchor" href="#fixdata" aria-label="Permalink to &quot;fixData&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//修复数据，在限制时候，修复超出或者负数等异常数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fixData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h2 id="实例属性" tabindex="-1">实例属性 <a class="header-anchor" href="#实例属性" aria-label="Permalink to &quot;实例属性&quot;">​</a></h2><h3 id="mousedrawtype" tabindex="-1">mouseDrawType <a class="header-anchor" href="#mousedrawtype" aria-label="Permalink to &quot;mouseDrawType&quot;">​</a></h3><p>类型：ShapeMouseDrawType</p><p>鼠标绘制类型，oneTouch:一笔绘制，multiPress:多次点击绘制</p><h3 id="drawtype" tabindex="-1">drawType <a class="header-anchor" href="#drawtype" aria-label="Permalink to &quot;drawType&quot;">​</a></h3><p>绘制类型，类型：ShapeDrawType</p><ul><li>point:所有划过的点绘制</li><li>centerR:起点为中心点，起止点距离为半径 r 绘制</li><li>centerRxy:起点为中心点，起止点 x1，x2 差值为 Rx,y1,y2 差值为 Ry 绘制</li></ul><h3 id="uid" tabindex="-1">uid <a class="header-anchor" href="#uid" aria-label="Permalink to &quot;uid&quot;">​</a></h3><p>形状的唯一标识符</p><h3 id="shapeinstance" tabindex="-1">shapeInstance <a class="header-anchor" href="#shapeinstance" aria-label="Permalink to &quot;shapeInstance&quot;">​</a></h3><p>形状的 <code>Svg.js</code> <code>G</code> 实例</p><h3 id="isrendered" tabindex="-1">isRendered <a class="header-anchor" href="#isrendered" aria-label="Permalink to &quot;isRendered&quot;">​</a></h3><p>是否已经渲染过</p><h3 id="isbindactions" tabindex="-1">isBindActions <a class="header-anchor" href="#isbindactions" aria-label="Permalink to &quot;isBindActions&quot;">​</a></h3><p>是否已经绑定动作</p><h3 id="imagemark" tabindex="-1">imageMark <a class="header-anchor" href="#imagemark" aria-label="Permalink to &quot;imageMark&quot;">​</a></h3><p>形状所属的 <code>ImageMark</code> 实例</p><h3 id="action" tabindex="-1">action <a class="header-anchor" href="#action" aria-label="Permalink to &quot;action&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	[key: string]: Action</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>形状的动作</p><h3 id="editmousedownevent" tabindex="-1">editMouseDownEvent <a class="header-anchor" href="#editmousedownevent" aria-label="Permalink to &quot;editMouseDownEvent&quot;">​</a></h3><p>类型：<code>MouseEvent | null </code></p><p>编辑时的鼠标按下事件</p><h3 id="editorigindata" tabindex="-1">editOriginData <a class="header-anchor" href="#editorigindata" aria-label="Permalink to &quot;editOriginData&quot;">​</a></h3><p>类型：<code>T|null</code></p><p>编辑时原始的 Shape 数据</p><h3 id="datasnapshot" tabindex="-1">dataSnapshot <a class="header-anchor" href="#datasnapshot" aria-label="Permalink to &quot;dataSnapshot&quot;">​</a></h3><p>类型：<code>T|null</code></p><p>数据快照, 当调用<code>startModifyData</code>方法时候会将当前数据保存到 dataSnapshot 中</p><h2 id="实例方法" tabindex="-1">实例方法 <a class="header-anchor" href="#实例方法" aria-label="Permalink to &quot;实例方法&quot;">​</a></h2><h3 id="getoptions" tabindex="-1">getOptions <a class="header-anchor" href="#getoptions" aria-label="Permalink to &quot;getOptions&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取合并后的配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ShapeOptions): ShapeOptions</span></span></code></pre></div><h3 id="adddrawfunc" tabindex="-1">addDrawFunc <a class="header-anchor" href="#adddrawfunc" aria-label="Permalink to &quot;addDrawFunc&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//添加绘制函数，用于自定义绘制，在每次`draw`时都会调用，比如自定义 fillColor，strokeWidth 等,或者 select fillColor 等等</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addDrawFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(func: ShapeDrawFunc): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="removedrawfunc" tabindex="-1">removeDrawFunc <a class="header-anchor" href="#removedrawfunc" aria-label="Permalink to &quot;removeDrawFunc&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//移除绘制函数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeDrawFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(func: ShapeDrawFunc): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="geteditgroup" tabindex="-1">getEditGroup <a class="header-anchor" href="#geteditgroup" aria-label="Permalink to &quot;getEditGroup&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取编辑组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getEditGroup&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> G</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span></span></code></pre></div><h3 id="getlabelshape" tabindex="-1">getLabelShape <a class="header-anchor" href="#getlabelshape" aria-label="Permalink to &quot;getLabelShape&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取标签形状</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getLabelShape&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span></span></code></pre></div><h3 id="getmainshape" tabindex="-1">getMainShape <a class="header-anchor" href="#getmainshape" aria-label="Permalink to &quot;getMainShape&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取主形状</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getMainShape&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span></span></code></pre></div><h3 id="geteditgroupid" tabindex="-1">getEditGroupId <a class="header-anchor" href="#geteditgroupid" aria-label="Permalink to &quot;getEditGroupId&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取编辑组的 id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getEditGroupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): string</span></span></code></pre></div><h3 id="getlabelid" tabindex="-1">getLabelId <a class="header-anchor" href="#getlabelid" aria-label="Permalink to &quot;getLabelId&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取标签形状的 id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLabelId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): string</span></span></code></pre></div><h3 id="getmainid" tabindex="-1">getMainId <a class="header-anchor" href="#getmainid" aria-label="Permalink to &quot;getMainId&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取主形状的 id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMainId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): string</span></span></code></pre></div><h3 id="updatedata" tabindex="-1">updateData <a class="header-anchor" href="#updatedata" aria-label="Permalink to &quot;updateData&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//更新形状的数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, emit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">G</span></span></code></pre></div><h3 id="getprestatusoperateactionname" tabindex="-1">getPreStatusOperateActionName <a class="header-anchor" href="#getprestatusoperateactionname" aria-label="Permalink to &quot;getPreStatusOperateActionName&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取上一个状态的操作动作配置名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPreStatusOperateActionName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): keyof ImageMarkOptions[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;action&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span></code></pre></div><h3 id="getmousemovethreshold" tabindex="-1">getMouseMoveThreshold <a class="header-anchor" href="#getmousemovethreshold" aria-label="Permalink to &quot;getMouseMoveThreshold&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取鼠标移动绘制形状时候的阈值，默认为 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMouseMoveThreshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number</span></span></code></pre></div><h3 id="setmousemovethreshold" tabindex="-1">setMouseMoveThreshold <a class="header-anchor" href="#setmousemovethreshold" aria-label="Permalink to &quot;setMouseMoveThreshold&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//设置鼠标移动绘制形状时候的阈值</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setMouseMoveThreshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(threshold: number)</span></span></code></pre></div><h3 id="starteditshape" tabindex="-1">startEditShape <a class="header-anchor" href="#starteditshape" aria-label="Permalink to &quot;startEditShape&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//内部开始编辑Shape,做通用的处理，给editMouseDownEvent和editOriginData赋值等</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startEditShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event: Event): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="endeditshape" tabindex="-1">endEditShape <a class="header-anchor" href="#endeditshape" aria-label="Permalink to &quot;endEditShape&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//内部结束编辑Shape,做通用的处理，清除临时数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">endEditShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="startmodifydata" tabindex="-1">startModifyData <a class="header-anchor" href="#startmodifydata" aria-label="Permalink to &quot;startModifyData&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//开始编辑，会将当前数据保存到 dataSnapshot 中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startModifyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="removeedit" tabindex="-1">removeEdit <a class="header-anchor" href="#removeedit" aria-label="Permalink to &quot;removeEdit&quot;">​</a></h3><p>移除编辑的 svg Group 元素</p><h3 id="edit" tabindex="-1">edit <a class="header-anchor" href="#edit" aria-label="Permalink to &quot;edit&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 是否开始编辑形状</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">edit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(on</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> boolean, needDraw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): boolean</span></span></code></pre></div><h3 id="isenableeditaddmidpoint" tabindex="-1">isEnableEditAddMidPoint <a class="header-anchor" href="#isenableeditaddmidpoint" aria-label="Permalink to &quot;isEnableEditAddMidPoint&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 判断是否允许在编辑模式下添加中位点（仅折线和多边形支持）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果 options.enableEditAddMidPoint 为 null 或 undefined，则返回 true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isEnableEditAddMidPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): boolean</span></span></code></pre></div><h3 id="isenableeditdroppoint" tabindex="-1">isEnableEditDropPoint <a class="header-anchor" href="#isenableeditdroppoint" aria-label="Permalink to &quot;isEnableEditDropPoint&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 判断是否允许在编辑模式下双击删除顶点（仅折线和多边形支持）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果 options.enableEditDropPoint 为 null 或 undefined，则返回 true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isEnableEditDropPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): boolean</span></span></code></pre></div><h3 id="onreadonlychange" tabindex="-1">onReadonlyChange <a class="header-anchor" href="#onreadonlychange" aria-label="Permalink to &quot;onReadonlyChange&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//只读状态改变时调用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onReadonlyChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(readonly: boolean): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="getmainshapeinfo" tabindex="-1">getMainShapeInfo <a class="header-anchor" href="#getmainshapeinfo" aria-label="Permalink to &quot;getMainShapeInfo&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取主形状的信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMainShapeInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	strokeWidth: number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	strokeColor: string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	optimalStrokeColor: string </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//根据 strokeColor 计算出的最优的字体颜色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="destroy" tabindex="-1">destroy <a class="header-anchor" href="#destroy" aria-label="Permalink to &quot;destroy&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//销毁形状并从画布中移除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">destroy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="render" tabindex="-1">render <a class="header-anchor" href="#render" aria-label="Permalink to &quot;render&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//渲染形状到画布上，如果已经渲染过，则不再渲染</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AddToShape</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Parameters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">InstanceType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Shape&gt;[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;addTo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]&gt;[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Svg.js 的Shape的addTo方法的参数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AddToShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span></span></code></pre></div><h3 id="addaction" tabindex="-1">addAction <a class="header-anchor" href="#addaction" aria-label="Permalink to &quot;addAction&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//添加实例动作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Action, actionOptions: any </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="removeaction" tabindex="-1">removeAction <a class="header-anchor" href="#removeaction" aria-label="Permalink to &quot;removeAction&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//移除实例动作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Action): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h3 id="initaction" tabindex="-1">initAction <a class="header-anchor" href="#initaction" aria-label="Permalink to &quot;initAction&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//初始化实例动作，如果已经绑定动作，则不再绑定</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">initAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Action, actionOptions: any </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-8cb865ee data-v-4b726acd><!--[--><!--]--><div class="edit-info" data-v-4b726acd><!----><div class="last-updated" data-v-4b726acd><p class="VPLastUpdated" data-v-4b726acd data-v-fb14e326>最后更新于: <time datetime="2026-02-04T07:55:37.000Z" data-v-fb14e326></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4b726acd><span class="visually-hidden" id="doc-footer-aria-label" data-v-4b726acd>Pager</span><div class="pager" data-v-4b726acd><a class="VPLink link pager-link prev" href="/api/plugin/minimap" data-v-4b726acd><!--[--><span class="desc" data-v-4b726acd>上一页</span><span class="title" data-v-4b726acd>Minimap</span><!--]--></a></div><div class="pager" data-v-4b726acd><a class="VPLink link pager-link next" href="/api/shape/line" data-v-4b726acd><!--[--><span class="desc" data-v-4b726acd>下一页</span><span class="title" data-v-4b726acd>Line</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    
    
  </body>
</html>